## 没有去除后缀 会报错

PS C:\git-program\Embedded\stm32f407> dfu-util -d 0483:df11 -a 0 -s 0x08000000:leave -D .pio\build\genericSTM32F407VET6\firmware.bin
dfu-util 0.11

Copyright 2005-2009 Weston Schmidt, Harald Welte and OpenMoko Inc.
Copyright 2010-2021 Tormod Volden and Stefan Schmidt
This program is Free Software and has ABSOLUTELY NO WARRANTY
Please report bugs to http://sourceforge.net/p/dfu-util/tickets/

Opening DFU capable USB device...
Device ID 0483:df11
Device DFU version 011a
Claiming USB DFU Interface...
Setting Alternate Interface #0 ...
Determining device status...
DFU state(2) = dfuIDLE, status(0) = No error condition is present
DFU mode device DFU version 011a
Device returned transfer size 2048
Error: File ID 1eaf:0003 does not match device (0483:df11 or 0483:df11)

## 查看所有设备

PS C:\git-program\Embedded\stm32f407> dfu-util -l
dfu-util 0.11

Copyright 2005-2009 Weston Schmidt, Harald Welte and OpenMoko Inc.
Copyright 2010-2021 Tormod Volden and Stefan Schmidt
This program is Free Software and has ABSOLUTELY NO WARRANTY
Please report bugs to http://sourceforge.net/p/dfu-util/tickets/

Found DFU: [0483:df11] ver=2200, devnum=4, cfg=1, intf=0, path="2-2.3", alt=3, name="@Device Feature/0xFFFF0000/01*004 e", serial="396C37563233"
Found DFU: [0483:df11] ver=2200, devnum=4, cfg=1, intf=0, path="2-2.3", alt=2, name="@OTP Memory /0x1FFF7800/01*512 e,01*016 e", serial="396C37563233"
Found DFU: [0483:df11] ver=2200, devnum=4, cfg=1, intf=0, path="2-2.3", alt=1, name="@Option Bytes /0x1FFFC000/01*016 e", serial="396C37563233"
Found DFU: [0483:df11] ver=2200, devnum=4, cfg=1, intf=0, path="2-2.3", alt=0, name="@Internal Flash /0x08000000/04*016Kg,01*064Kg,07\*128Kg", serial="396C37563233"

## 去除后缀

PS C:\git-program\Embedded\stm32f407> dfu-suffix -D ".pio\build\genericSTM32F407VET6\firmware.bin"
dfu-suffix (dfu-util) 0.11

Copyright 2011-2012 Stefan Schmidt, 2013-2020 Tormod Volden
This program is Free Software and has ABSOLUTELY NO WARRANTY
Please report bugs to http://sourceforge.net/p/dfu-util/tickets/

Suffix successfully removed from file

## 上传支持自动烧录的固件

dfu-util -d 0483:df11 -a 0 -s 0x08000000:leave -D diymroe_stm32f407vgt_pe0.bin
